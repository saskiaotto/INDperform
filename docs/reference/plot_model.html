<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Visualization of all IND~pressure-model results relevant for the scoring — plot_model • INDperform</title>

<!-- favicons -->
<link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png" />
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png" />
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png" />
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png" />

<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->
<link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/cosmo/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous" />


<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>



  <link href="../extra.css" rel="stylesheet">
  

<meta property="og:title" content="Visualization of all IND~pressure-model results relevant for the scoring — plot_model" />
<meta property="og:description" content="plot_model creates a tibble with up to 4 individual plots and one
combined plot (all ggplot2 objects) for each IND~pressure pair in the
input tibble. The number of plots generated depends on the information
provided in the input tibble. If all model IND~pressure modeling functions
have been applied to create the final input tibble all five plots will be
produced." />
<meta property="og:image" content="/logo.png" />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">INDperform</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.2.2.9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa-home"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">
    <span class="fas fa-file-code-o"></span>
     
    Datasets &amp; Functions
  </a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    <span class="fas fa-book"></span>
     
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="https://doi.org/10.1016/j.ecolind.2017.05.045">Quantitative framework for selecting and validating food web indicators</a>
    </li>
    <li>
      <a href="https://raw.githubusercontent.com/saskiaotto/cheatsheets/476bad4a8876939a7b3e1784a5bf61567ed4a715/Cheatsheet_INDperform_v0.1.0.pdf">Indperform cheatsheet</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">
    <span class="fas fa-newspaper-o"></span>
     
    News
  </a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/saskiaotto/INDperform">
    <span class="fas fa-github fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../mailto:saskia.otto@uni-hamburg.de">
    <span class="fas fa-send"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Visualization of all IND~pressure-model results relevant for the scoring</h1>
    <small class="dont-index">Source: <a href='https://github.com/SaskiaAOtto/INDperform/blob/master/R/plot_model.R'><code>R/plot_model.R</code></a></small>
    <div class="hidden name"><code>plot_model.Rd</code></div>
    </div>

    <div class="ref-description">
    <p><code>plot_model</code> creates a tibble with up to 4 individual plots and one
combined plot (all ggplot2 objects) for each IND~pressure pair in the
input tibble. The number of plots generated depends on the information
provided in the input tibble. If all model IND~pressure modeling functions
have been applied to create the final input tibble all five plots will be
produced.</p>
    </div>

    <pre class="usage"><span class='fu'>plot_model</span><span class='op'>(</span>
  <span class='va'>init_tbl</span>,
  <span class='va'>mod_tbl</span>,
  choose_thresh_gam <span class='op'>=</span> <span class='cn'>NULL</span>,
  pos_label <span class='op'>=</span> <span class='st'>"topleft"</span>,
  header <span class='op'>=</span> <span class='cn'>TRUE</span>
<span class='op'>)</span></pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>init_tbl</th>
      <td><p>The output tibble of the <code><a href='ind_init.html'>ind_init</a></code> function.</p></td>
    </tr>
    <tr>
      <th>mod_tbl</th>
      <td><p>Any output tibble from the IND~pressure modeling functions.</p></td>
    </tr>
    <tr>
      <th>choose_thresh_gam</th>
      <td><p>Selects the threshold_GAM for the thresh_plot,
 which is relevant if several models are listed in `thresh_models`.</p>
<p>The default is NULL, which shows the best performing threshold_GAM
 (based on the GCV as selection criterion).</p></td>
    </tr>
    <tr>
      <th>pos_label</th>
      <td><p>Specifies the position of the annotation in the plot. Should
be one of "topleft" (default), "topright", "bottomleft" or "bottomright".
For more details see <code><a href='place_text.html'>place_text</a></code>.</p></td>
    </tr>
    <tr>
      <th>header</th>
      <td><p>logical; if TRUE, each plot will have a header including the IND
name, pressure name(s) and the model type.</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>The function returns a <code><a href='https://tibble.tidyverse.org/reference/tibble.html'>tibble</a></code>, including the
following elements:</p><dl>
  <dt><code>id</code></dt><dd><p>Numerical IDs of the IND~press combinations.</p></dd>
  <dt><code>ind</code></dt><dd><p>Indicator names.</p></dd>
  <dt><code>press</code></dt><dd><p>Pressure names.</p></dd>
  <dt><code>response_plot</code></dt><dd><p>A list-column of ggplot2 objects that show
              the observed (black points) and predicted IND response to the single
              pressure (based on the training data). The solid blue line represents
              the predicted mean and the transparent polygon the 95% confidence interval.
              The effective degrees of freedom (edf), R_sq, and p-value from the
              fitted model are additionally provided. The input needed for this
              plot is generated from the <code><a href='model_gam.html'>model_gam</a></code> or
              <code><a href='model_gamm.html'>model_gamm</a></code> functions.</p></dd>
  <dt><code>predict_plot</code></dt><dd><p>A list-column of ggplot2 objects that show the robustness
              of the modeled relationship expressed as the predictive performance
              (the NRMSE) on a test dataset, e.g the last years of the time series.
              The solid green line represents the predicted IND value given the
              observed pressure value for that particular year (both in the training and
              test data, the latter displayed as green triangles). The transparent
              polygon represents the 95% confidence interval. Observed IND values
              of the test data are shown as black triangle, the trainings observations
              are presented as black circles. The input needed for this plot is
              generated from the <code><a href='model_gam.html'>model_gam</a></code> or
              <code><a href='model_gamm.html'>model_gamm</a></code> functions.</p></dd>
  <dt><code>deriv_plot</code></dt><dd><p>A list-column of ggplot2 objects that show the first
              derivatives (S`) of non-linear IND~pressure response curves (edf &gt; 1.5)
              and the proportion of the pressure range where the IND shows no further
              significant change (i.e., slope approximates zero). Black triangles
              represent values at the pressure`s boundary where the zero line falls
              into the confidence interval, which indicates no further significant
              IND change. Circle represent values that were considered positive
              for the calculation of the pressure range (see for more details
              <code><a href='calc_deriv.html'>calc_deriv</a></code>). The input needed for this plot is generated
              from the <code><a href='calc_deriv.html'>calc_deriv</a></code> function.</p></dd>
  <dt><code>thresh_plot</code></dt><dd><p>A list-column of ggplot2 objects that show the observed IND
              response curve for a specific pressure under a low (left panel, in black)
              and high (right panel, in red) regime of an interacting 2nd pressure
              variable. The solid lines represent the predicted mean and the transparent
              polygons the 95% confidence intervals. Filled circles represent the
              observed training observations in each regime. If no thresh_plot is
              created for that IND~pressure pair, no interaction was found. If more
              than one interacting pressure variable has been detected, i.e. more than
              one threshold-GAM performed better than its corresponding GAM, the
              threshold-GAM with the best GCV will be displayed. The input needed for
              this plot is generated from the <code><a href='test_interaction.html'>test_interaction</a></code> function.
              If the plot shows strange patterns such as smoothers hardly differ in both
              regimes with wide confidence intervals at the edge or few data points in one
              regime check the model diagnostics of this threshold model! Outliers can cause
              such patterns or if threshold is at the edge of the pressure range or other
              thresholds are similarly likely (see also <code><a href='plot_diagnostics.html'>plot_diagnostics</a></code>.)</p></dd>
  <dt><code>all_plots</code></dt><dd><p>A list-column of ggplot2 objects that show all
             plots together using additional drawing canvas from the
             <code>cowplot</code> package on top of ggplot2.</p></dd>

</dl>

    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <div class='dont-index'><p>Other IND~pressure modeling functions: 
<code><a href='find_id.html'>find_id</a>()</code>,
<code><a href='ind_init.html'>ind_init</a>()</code>,
<code><a href='model_gamm.html'>model_gamm</a>()</code>,
<code><a href='model_gam.html'>model_gam</a>()</code>,
<code><a href='plot_diagnostics.html'>plot_diagnostics</a>()</code>,
<code><a href='scoring.html'>scoring</a>()</code>,
<code><a href='select_model.html'>select_model</a>()</code>,
<code><a href='test_interaction.html'>test_interaction</a>()</code></p></div>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='co'># \donttest{</span>
<span class='co'># Using some models of the Baltic Sea demo data in this package</span>
<span class='va'>mod_tbl</span> <span class='op'>&lt;-</span> <span class='va'>all_results_ex</span><span class='op'>[</span><span class='fl'>4</span><span class='op'>:</span><span class='fl'>5</span>, <span class='op'>]</span>
<span class='va'>init_tbl</span> <span class='op'>&lt;-</span> <span class='va'>ind_init_ex</span><span class='op'>[</span><span class='fl'>4</span><span class='op'>:</span><span class='fl'>5</span>, <span class='op'>]</span>
<span class='va'>dat</span> <span class='op'>&lt;-</span> <span class='fu'>plot_model</span><span class='op'>(</span><span class='va'>init_tbl</span>, <span class='va'>mod_tbl</span>, pos_label <span class='op'>=</span> <span class='st'>"topleft"</span><span class='op'>)</span>
</div><div class='output co'>#&gt; <span class='warning'>Warning: Removed 1 row(s) containing missing values (geom_path).</span></div><div class='output co'>#&gt; <span class='warning'>Warning: Removed 1 rows containing missing values (geom_point).</span></div><div class='output co'>#&gt; <span class='warning'>Warning: Removed 1 row(s) containing missing values (geom_path).</span></div><div class='output co'>#&gt; <span class='warning'>Warning: Removed 1 rows containing missing values (geom_point).</span></div><div class='input'><span class='va'>dat</span><span class='op'>$</span><span class='va'>response_plot</span><span class='op'>[[</span><span class='fl'>1</span><span class='op'>]</span><span class='op'>]</span>
</div><div class='img'><img src='plot_model-1.png' alt='' width='700' height='433' /></div><div class='input'><span class='va'>dat</span><span class='op'>$</span><span class='va'>predict_plot</span><span class='op'>[[</span><span class='fl'>1</span><span class='op'>]</span><span class='op'>]</span>
</div><div class='output co'>#&gt; <span class='warning'>Warning: Removed 1 row(s) containing missing values (geom_path).</span></div><div class='output co'>#&gt; <span class='warning'>Warning: Removed 1 rows containing missing values (geom_point).</span></div><div class='img'><img src='plot_model-2.png' alt='' width='700' height='433' /></div><div class='input'><span class='va'>dat</span><span class='op'>$</span><span class='va'>deriv_plot</span><span class='op'>[[</span><span class='fl'>2</span><span class='op'>]</span><span class='op'>]</span>
</div><div class='img'><img src='plot_model-3.png' alt='' width='700' height='433' /></div><div class='input'><span class='va'>dat</span><span class='op'>$</span><span class='va'>thresh_plot</span><span class='op'>[[</span><span class='fl'>2</span><span class='op'>]</span><span class='op'>]</span>
</div><div class='img'><img src='plot_model-4.png' alt='' width='700' height='433' /></div><div class='input'><span class='va'>dat</span><span class='op'>$</span><span class='va'>all_plots</span><span class='op'>[[</span><span class='fl'>2</span><span class='op'>]</span><span class='op'>]</span>
</div><div class='img'><img src='plot_model-5.png' alt='' width='700' height='433' /></div><div class='input'>
 <span class='co'># Apply function to all sign. models and save specific plots</span>
 <span class='va'>id</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/which.html'>which</a></span><span class='op'>(</span><span class='va'>all_results_ex</span><span class='op'>$</span><span class='va'>p_val</span> <span class='op'>&lt;=</span> <span class='fl'>0.05</span><span class='op'>)</span>
 <span class='va'>init_tbl</span> <span class='op'>&lt;-</span> <span class='va'>ind_init_ex</span><span class='op'>[</span><span class='va'>id</span>, <span class='op'>]</span>
 <span class='va'>mod_tbl</span> <span class='op'>&lt;-</span> <span class='va'>all_results_ex</span><span class='op'>[</span><span class='va'>id</span>, <span class='op'>]</span>
 <span class='va'>dat</span> <span class='op'>&lt;-</span> <span class='fu'>plot_model</span><span class='op'>(</span><span class='va'>init_tbl</span>, <span class='va'>mod_tbl</span>, pos_label <span class='op'>=</span> <span class='st'>"bottomright"</span><span class='op'>)</span>
</div><div class='output co'>#&gt; <span class='warning'>Warning: Removed 1 row(s) containing missing values (geom_path).</span></div><div class='output co'>#&gt; <span class='warning'>Warning: Removed 1 rows containing missing values (geom_point).</span></div><div class='output co'>#&gt; <span class='warning'>Warning: Removed 1 row(s) containing missing values (geom_path).</span></div><div class='output co'>#&gt; <span class='warning'>Warning: Removed 1 rows containing missing values (geom_point).</span></div><div class='output co'>#&gt; <span class='warning'>Warning: Removed 1 row(s) containing missing values (geom_path).</span></div><div class='output co'>#&gt; <span class='warning'>Warning: Removed 1 rows containing missing values (geom_point).</span></div><div class='output co'>#&gt; <span class='warning'>Warning: Removed 1 row(s) containing missing values (geom_path).</span></div><div class='output co'>#&gt; <span class='warning'>Warning: Removed 1 rows containing missing values (geom_point).</span></div><div class='output co'>#&gt; <span class='warning'>Warning: Removed 1 row(s) containing missing values (geom_path).</span></div><div class='output co'>#&gt; <span class='warning'>Warning: Removed 1 rows containing missing values (geom_point).</span></div><div class='output co'>#&gt; <span class='warning'>Warning: Removed 1 row(s) containing missing values (geom_path).</span></div><div class='output co'>#&gt; <span class='warning'>Warning: Removed 1 rows containing missing values (geom_point).</span></div><div class='output co'>#&gt; <span class='warning'>Warning: Removed 1 row(s) containing missing values (geom_path).</span></div><div class='output co'>#&gt; <span class='warning'>Warning: Removed 1 rows containing missing values (geom_point).</span></div><div class='output co'>#&gt; <span class='warning'>Warning: Removed 1 row(s) containing missing values (geom_path).</span></div><div class='output co'>#&gt; <span class='warning'>Warning: Removed 1 rows containing missing values (geom_point).</span></div><div class='output co'>#&gt; <span class='warning'>Warning: Removed 1 row(s) containing missing values (geom_path).</span></div><div class='output co'>#&gt; <span class='warning'>Warning: Removed 1 rows containing missing values (geom_point).</span></div><div class='output co'>#&gt; <span class='warning'>Warning: Removed 1 row(s) containing missing values (geom_path).</span></div><div class='output co'>#&gt; <span class='warning'>Warning: Removed 1 rows containing missing values (geom_point).</span></div><div class='output co'>#&gt; <span class='warning'>Warning: Removed 1 row(s) containing missing values (geom_path).</span></div><div class='output co'>#&gt; <span class='warning'>Warning: Removed 1 rows containing missing values (geom_point).</span></div><div class='output co'>#&gt; <span class='warning'>Warning: Removed 8 rows containing missing values (geom_point).</span></div><div class='output co'>#&gt; <span class='warning'>Warning: Removed 1 row(s) containing missing values (geom_path).</span></div><div class='output co'>#&gt; <span class='warning'>Warning: Removed 1 rows containing missing values (geom_point).</span></div><div class='output co'>#&gt; <span class='warning'>Warning: Removed 1 row(s) containing missing values (geom_path).</span></div><div class='output co'>#&gt; <span class='warning'>Warning: Removed 1 rows containing missing values (geom_point).</span></div><div class='input'> <span class='fu'><a href='https://rdrr.io/r/grDevices/pdf.html'>pdf</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/file.path.html'>file.path</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/tempfile.html'>tempdir</a></span><span class='op'>(</span><span class='op'>)</span>, <span class='st'>"Plot.pdf"</span><span class='op'>)</span>, height<span class='op'>=</span><span class='fl'>10</span>, width<span class='op'>=</span><span class='fl'>10</span><span class='op'>)</span>
 <span class='va'>dat</span><span class='op'>$</span><span class='va'>all_plots</span>
</div><div class='output co'>#&gt; [[1]]</div><div class='output co'>#&gt; 
#&gt; [[2]]</div><div class='output co'>#&gt; 
#&gt; [[3]]</div><div class='output co'>#&gt; 
#&gt; [[4]]</div><div class='output co'>#&gt; 
#&gt; [[5]]</div><div class='output co'>#&gt; 
#&gt; [[6]]</div><div class='output co'>#&gt; 
#&gt; [[7]]</div><div class='output co'>#&gt; 
#&gt; [[8]]</div><div class='output co'>#&gt; 
#&gt; [[9]]</div><div class='output co'>#&gt; 
#&gt; [[10]]</div><div class='output co'>#&gt; 
#&gt; [[11]]</div><div class='output co'>#&gt; 
#&gt; [[12]]</div><div class='output co'>#&gt; 
#&gt; [[13]]</div><div class='output co'>#&gt; </div><div class='input'> <span class='fu'><a href='https://rdrr.io/r/grDevices/dev.html'>dev.off</a></span><span class='op'>(</span><span class='op'>)</span>
</div><div class='output co'>#&gt; agg_png 
#&gt;       2 </div><div class='input'><span class='co'># }</span>
</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by <a href='https://saskiaotto.de'>Saskia A. Otto</a>, <a href='https://github.com/reneplonus'>Rene Plonus</a>, <a href='https://www.biologie.uni-hamburg.de/forschung/oekologie-biologische-ressourcen/maroeksysdyn/mitarbeiter/funk.html'>Steffen Funk</a>, Alexander Keth.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


