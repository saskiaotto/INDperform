<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Initialization of indicator-pressure models — ind_init • INDperform</title>

<!-- favicons -->
<link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png" />
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png" />
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png" />
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png" />

<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->
<link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/cosmo/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous" />


<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>



  <link href="../extra.css" rel="stylesheet">
  

<meta property="og:title" content="Initialization of indicator-pressure models — ind_init" />
<meta property="og:description" content="ind_init combines the time vector and the indicator (IND) and pressure data into
one tibble with defined training and test observations. All INDs are combined
with all pressures provided as input." />
<meta property="og:image" content="/logo.png" />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">INDperform</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.2.2.9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fa fa-home"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">
    <span class="fa fa-file-code-o"></span>
     
    Datasets &amp; Functions
  </a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    <span class="fas fa-book"></span>
     
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="https://doi.org/10.1016/j.ecolind.2017.05.045">Quantitative framework for selecting and validating food web indicators</a>
    </li>
    <li>
      <a href="https://raw.githubusercontent.com/saskiaotto/cheatsheets/476bad4a8876939a7b3e1784a5bf61567ed4a715/Cheatsheet_INDperform_v0.1.0.pdf">Indperform cheatsheet</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">
    <span class="fa fa-newspaper-o"></span>
     
    News
  </a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/saskiaotto/INDperform">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../mailto:saskia.otto@uni-hamburg.de">
    <span class="fa fa-send"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Initialization of indicator-pressure models</h1>
    <small class="dont-index">Source: <a href='https://github.com/saskiaotto/INDperform/blob/master/R/ind_init.R'><code>R/ind_init.R</code></a></small>
    <div class="hidden name"><code>ind_init.Rd</code></div>
    </div>

    <div class="ref-description">
    <p><code>ind_init</code> combines the time vector and the indicator (IND) and pressure data into
one tibble with defined training and test observations. All INDs are combined
with all pressures provided as input.</p>
    </div>

    <pre class="usage"><span class='fu'>ind_init</span><span class='op'>(</span><span class='va'>ind_tbl</span>, <span class='va'>press_tbl</span>, <span class='va'>time</span>, train <span class='op'>=</span> <span class='fl'>0.9</span>, random <span class='op'>=</span> <span class='cn'>FALSE</span><span class='op'>)</span></pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>ind_tbl</th>
      <td><p>A data frame, matrix or tibble containing only the (numeric) IND
variables. Single indicators should be coerced into a data frame to keep the
indicator name. If kept as vector, default name will be  `ind`.</p></td>
    </tr>
    <tr>
      <th>press_tbl</th>
      <td><p>A data frame, matrix or tibble containing only the (numeric)
pressure variables. Single pressures should be coerced into a data frame to keep
the pressure name. If kept as vector, default name will be `press`.</p></td>
    </tr>
    <tr>
      <th>time</th>
      <td><p>A vector containing the actual time steps (e.g. years; should be the same
as in the IND and pressure data).</p></td>
    </tr>
    <tr>
      <th>train</th>
      <td><p>The proportion of observations that should go into the training data
on which the GAMs are later fitted. Has to be a numeric value between 0 and 1;
the default is 0.9.</p></td>
    </tr>
    <tr>
      <th>random</th>
      <td><p>logical; should the observations for the training data be randomly
chosen? Default is FALSE, so that the last time units (years) are chosen as test data.</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>The function returns a <code><a href='https://tibble.tidyverse.org/reference/tibble.html'>tibble</a></code>, which is a trimmed down version of
the data.frame(), including the following elements:</p><dl>
  <dt><code>id</code></dt><dd><p>Numerical IDs for the IND~press combinations.</p></dd>
  <dt><code>ind</code></dt><dd><p>Indicator names.These might be modified to exclude any character, which
              is not in the model formula (e.g. hyphens, brackets, etc. are replaced by an
              underscore, variables starting with a number will get an x before the number.</p></dd>
  <dt><code>press</code></dt><dd><p>Pressure names.These might be modified to exclude any character, which
              is not in the model formula (e.g. hyphens, brackets, etc. are replaced by an
              underscore, variables starting with a number will get an x before the number.</p></dd>
  <dt><code>ind_train</code></dt><dd><p>A list-column with indicator values of the training data.</p></dd>
  <dt><code>press_train</code></dt><dd><p>A list-column with pressure values of the training data.</p></dd>
  <dt><code>time_train</code></dt><dd><p>A list-column with the time steps of the training data.</p></dd>
  <dt><code>ind_test</code></dt><dd><p>A list-column with indicator values of the test data.</p></dd>
  <dt><code>press_test</code></dt><dd><p>A list-column with pressure values of the test data.</p></dd>
  <dt><code>time_test</code></dt><dd><p>A list-column with the time steps of the test data.</p></dd>
  <dt><code>train_na</code></dt><dd><p>logical; indicates the joint missing values in the training
  IND and pressure data. That includes the original NAs as well as randomly selected
  test observations that are within the training period. This vector is needed later
  for the determination of temporal autocorrelation.</p></dd>

</dl>

    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p><code>ind_init</code> will combine every column in ind_tbl with every column in press_tbl
so that each row will represent one IND~press combination. The input data will be
split into a training and a test data set. The returned tibble is the basis for all
IND~pressure modeling functions.</p>
<p>If not all IND~pressure combinations should be modeled,
the respective rows can simply be removed from the output tibble or <code>ind_init</code> is
applied multiple times on data subsets and their output tibbles merged later using
e.g. <code><a href='https://dplyr.tidyverse.org/reference/bind.html'>bind_rows</a></code>.</p>
    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <div class='dont-index'><p><code><a href='https://tibble.tidyverse.org/reference/tibble.html'>tibble</a></code> and the <code>vignette("tibble")</code> for more
 informations on tibbles</p>
<p>Other IND~pressure modeling functions: 
<code><a href='find_id.html'>find_id</a>()</code>,
<code><a href='model_gamm.html'>model_gamm</a>()</code>,
<code><a href='model_gam.html'>model_gam</a>()</code>,
<code><a href='plot_diagnostics.html'>plot_diagnostics</a>()</code>,
<code><a href='plot_model.html'>plot_model</a>()</code>,
<code><a href='scoring.html'>scoring</a>()</code>,
<code><a href='select_model.html'>select_model</a>()</code>,
<code><a href='test_interaction.html'>test_interaction</a>()</code></p></div>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='co'># Using the Baltic Sea demo data in this package</span>
<span class='va'>press_tbl</span> <span class='op'>&lt;-</span> <span class='va'>press_ex</span><span class='op'>[</span> ,<span class='op'>-</span><span class='fl'>1</span><span class='op'>]</span> <span class='co'># excl. Year</span>
<span class='va'>ind_tbl</span> <span class='op'>&lt;-</span> <span class='va'>ind_ex</span><span class='op'>[</span> ,<span class='op'>-</span><span class='fl'>1</span><span class='op'>]</span> <span class='co'># excl. Year</span>
<span class='va'>time</span> <span class='op'>&lt;-</span> <span class='va'>ind_ex</span><span class='op'>[</span> ,<span class='fl'>1</span><span class='op'>]</span>
<span class='co'># Assign randomly 50% of the observations as training data and</span>
<span class='co'># the other 50% as test data</span>
<span class='fu'>ind_init</span><span class='op'>(</span><span class='va'>ind_tbl</span>, <span class='va'>press_tbl</span>, <span class='va'>time</span>, train <span class='op'>=</span> <span class='fl'>0.5</span>, random <span class='op'>=</span> <span class='cn'>TRUE</span><span class='op'>)</span>
</div><div class='output co'>#&gt; <span style='color: #949494;'># A tibble: 84 × 10</span>
#&gt;       id ind   press  ind_train  press_train time_train ind_test   press_test
#&gt;    <span style='color: #949494; font-style: italic;'>&lt;int&gt;</span> <span style='color: #949494; font-style: italic;'>&lt;chr&gt;</span> <span style='color: #949494; font-style: italic;'>&lt;chr&gt;</span>  <span style='color: #949494; font-style: italic;'>&lt;list&gt;</span>     <span style='color: #949494; font-style: italic;'>&lt;list&gt;</span>      <span style='color: #949494; font-style: italic;'>&lt;list&gt;</span>     <span style='color: #949494; font-style: italic;'>&lt;list&gt;</span>     <span style='color: #949494; font-style: italic;'>&lt;list&gt;</span>    
#&gt; <span style='color: #BCBCBC;'> 1</span>     1 TZA   Tsum   <span style='color: #949494;'>&lt;dbl [15]&gt;</span> <span style='color: #949494;'>&lt;dbl [15]&gt;</span>  <span style='color: #949494;'>&lt;int [15]&gt;</span> <span style='color: #949494;'>&lt;dbl [15]&gt;</span> <span style='color: #949494;'>&lt;dbl [15]&gt;</span>
#&gt; <span style='color: #BCBCBC;'> 2</span>     2 TZA   Swin   <span style='color: #949494;'>&lt;dbl [15]&gt;</span> <span style='color: #949494;'>&lt;dbl [15]&gt;</span>  <span style='color: #949494;'>&lt;int [15]&gt;</span> <span style='color: #949494;'>&lt;dbl [15]&gt;</span> <span style='color: #949494;'>&lt;dbl [15]&gt;</span>
#&gt; <span style='color: #BCBCBC;'> 3</span>     3 TZA   Pwin   <span style='color: #949494;'>&lt;dbl [15]&gt;</span> <span style='color: #949494;'>&lt;dbl [15]&gt;</span>  <span style='color: #949494;'>&lt;int [15]&gt;</span> <span style='color: #949494;'>&lt;dbl [15]&gt;</span> <span style='color: #949494;'>&lt;dbl [15]&gt;</span>
#&gt; <span style='color: #BCBCBC;'> 4</span>     4 TZA   Nwin   <span style='color: #949494;'>&lt;dbl [15]&gt;</span> <span style='color: #949494;'>&lt;dbl [15]&gt;</span>  <span style='color: #949494;'>&lt;int [15]&gt;</span> <span style='color: #949494;'>&lt;dbl [15]&gt;</span> <span style='color: #949494;'>&lt;dbl [15]&gt;</span>
#&gt; <span style='color: #BCBCBC;'> 5</span>     5 TZA   Fsprat <span style='color: #949494;'>&lt;dbl [15]&gt;</span> <span style='color: #949494;'>&lt;dbl [15]&gt;</span>  <span style='color: #949494;'>&lt;int [15]&gt;</span> <span style='color: #949494;'>&lt;dbl [15]&gt;</span> <span style='color: #949494;'>&lt;dbl [15]&gt;</span>
#&gt; <span style='color: #BCBCBC;'> 6</span>     6 TZA   Fher   <span style='color: #949494;'>&lt;dbl [15]&gt;</span> <span style='color: #949494;'>&lt;dbl [15]&gt;</span>  <span style='color: #949494;'>&lt;int [15]&gt;</span> <span style='color: #949494;'>&lt;dbl [15]&gt;</span> <span style='color: #949494;'>&lt;dbl [15]&gt;</span>
#&gt; <span style='color: #BCBCBC;'> 7</span>     7 TZA   Fcod   <span style='color: #949494;'>&lt;dbl [15]&gt;</span> <span style='color: #949494;'>&lt;dbl [15]&gt;</span>  <span style='color: #949494;'>&lt;int [15]&gt;</span> <span style='color: #949494;'>&lt;dbl [15]&gt;</span> <span style='color: #949494;'>&lt;dbl [15]&gt;</span>
#&gt; <span style='color: #BCBCBC;'> 8</span>     8 MS    Tsum   <span style='color: #949494;'>&lt;dbl [15]&gt;</span> <span style='color: #949494;'>&lt;dbl [15]&gt;</span>  <span style='color: #949494;'>&lt;int [15]&gt;</span> <span style='color: #949494;'>&lt;dbl [15]&gt;</span> <span style='color: #949494;'>&lt;dbl [15]&gt;</span>
#&gt; <span style='color: #BCBCBC;'> 9</span>     9 MS    Swin   <span style='color: #949494;'>&lt;dbl [15]&gt;</span> <span style='color: #949494;'>&lt;dbl [15]&gt;</span>  <span style='color: #949494;'>&lt;int [15]&gt;</span> <span style='color: #949494;'>&lt;dbl [15]&gt;</span> <span style='color: #949494;'>&lt;dbl [15]&gt;</span>
#&gt; <span style='color: #BCBCBC;'>10</span>    10 MS    Pwin   <span style='color: #949494;'>&lt;dbl [15]&gt;</span> <span style='color: #949494;'>&lt;dbl [15]&gt;</span>  <span style='color: #949494;'>&lt;int [15]&gt;</span> <span style='color: #949494;'>&lt;dbl [15]&gt;</span> <span style='color: #949494;'>&lt;dbl [15]&gt;</span>
#&gt; <span style='color: #949494;'># … with 74 more rows, and 2 more variables: time_test &lt;list&gt;, train_na &lt;list&gt;</span></div><div class='input'><span class='co'># To keep the name when testing only one indicator and pressure, coerce both vectors</span>
<span class='co'># data frames</span>
<span class='fu'>ind_init</span><span class='op'>(</span>ind_tbl <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/data.frame.html'>data.frame</a></span><span class='op'>(</span>MS <span class='op'>=</span> <span class='va'>ind_tbl</span><span class='op'>$</span><span class='va'>MS</span><span class='op'>)</span>, press_tbl <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/data.frame.html'>data.frame</a></span><span class='op'>(</span>Tsum <span class='op'>=</span> <span class='va'>press_tbl</span><span class='op'>$</span><span class='va'>Tsum</span><span class='op'>)</span>,
 <span class='va'>time</span>, train <span class='op'>=</span> <span class='fl'>.5</span>, random <span class='op'>=</span> <span class='cn'>TRUE</span><span class='op'>)</span>
</div><div class='output co'>#&gt; <span style='color: #949494;'># A tibble: 1 × 10</span>
#&gt;      id ind   press ind_train  press_train time_train ind_test   press_test
#&gt;   <span style='color: #949494; font-style: italic;'>&lt;int&gt;</span> <span style='color: #949494; font-style: italic;'>&lt;chr&gt;</span> <span style='color: #949494; font-style: italic;'>&lt;chr&gt;</span> <span style='color: #949494; font-style: italic;'>&lt;list&gt;</span>     <span style='color: #949494; font-style: italic;'>&lt;list&gt;</span>      <span style='color: #949494; font-style: italic;'>&lt;list&gt;</span>     <span style='color: #949494; font-style: italic;'>&lt;list&gt;</span>     <span style='color: #949494; font-style: italic;'>&lt;list&gt;</span>    
#&gt; <span style='color: #BCBCBC;'>1</span>     1 MS    Tsum  <span style='color: #949494;'>&lt;dbl [15]&gt;</span> <span style='color: #949494;'>&lt;dbl [15]&gt;</span>  <span style='color: #949494;'>&lt;int [15]&gt;</span> <span style='color: #949494;'>&lt;dbl [15]&gt;</span> <span style='color: #949494;'>&lt;dbl [15]&gt;</span>
#&gt; <span style='color: #949494;'># … with 2 more variables: time_test &lt;list&gt;, train_na &lt;list&gt;</span></div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by <a href='https://saskiaotto.de'>Saskia A. Otto</a>, <a href='https://github.com/reneplonus'>Rene Plonus</a>, <a href='https://www.biologie.uni-hamburg.de/forschung/oekologie-biologische-ressourcen/maroeksysdyn/mitarbeiter/funk.html'>Steffen Funk</a>, Alexander Keth.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


