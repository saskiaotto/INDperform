<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Normalized Root Mean Square Error — nrmse • INDperform</title>

<!-- favicons -->
<link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png" />
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png" />
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png" />
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png" />

<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->
<link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/cosmo/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous" />


<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>



  <link href="../extra.css" rel="stylesheet">
  

<meta property="og:title" content="Normalized Root Mean Square Error — nrmse" />
<meta property="og:description" content="nrmse is a function that allows the user to calculate the normalized root
mean square error (NRMSE) as absolute value between predicted
and observed values using different type of normalization methods.
It further allows the NRMSE calculation on the scale of the untransformed
indicator, which is advisable for a comparison across indicators." />
<meta property="og:image" content="/logo.png" />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">INDperform</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.2.2.9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fa fa-home"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">
    <span class="fa fa-file-code-o"></span>
     
    Datasets &amp; Functions
  </a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    <span class="fas fa-book"></span>
     
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="https://doi.org/10.1016/j.ecolind.2017.05.045">Quantitative framework for selecting and validating food web indicators</a>
    </li>
    <li>
      <a href="https://raw.githubusercontent.com/saskiaotto/cheatsheets/476bad4a8876939a7b3e1784a5bf61567ed4a715/Cheatsheet_INDperform_v0.1.0.pdf">Indperform cheatsheet</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">
    <span class="fa fa-newspaper-o"></span>
     
    News
  </a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/saskiaotto/INDperform">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../mailto:saskia.otto@uni-hamburg.de">
    <span class="fa fa-send"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Normalized Root Mean Square Error</h1>
    <small class="dont-index">Source: <a href='https://github.com/saskiaotto/INDperform/blob/master/R/nrmse.R'><code>R/nrmse.R</code></a></small>
    <div class="hidden name"><code>nrmse.Rd</code></div>
    </div>

    <div class="ref-description">
    <p><code>nrmse</code> is a function that allows the user to calculate the normalized root
mean square error (NRMSE) as absolute value between predicted
and observed values using different type of normalization methods.
It further allows the NRMSE calculation on the scale of the untransformed
indicator, which is advisable for a comparison across indicators.</p>
    </div>

    <pre class="usage"><span class='fu'>nrmse</span><span class='op'>(</span>
  <span class='va'>pred</span>,
  <span class='va'>obs</span>,
  method <span class='op'>=</span> <span class='st'>"sd"</span>,
  transformation <span class='op'>=</span> <span class='st'>"none"</span>,
  trans_function <span class='op'>=</span> <span class='st'>"none"</span>
<span class='op'>)</span></pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>pred</th>
      <td><p>A vector of predicted values.</p></td>
    </tr>
    <tr>
      <th>obs</th>
      <td><p>A vector of observed values.</p></td>
    </tr>
    <tr>
      <th>method</th>
      <td><p>A character string indicating the value to be used for the normalization of the RMSE.
The default is the standard deviation. Alternatively, you can choose the <code>"mean"</code>,
<code>"maxmin"</code> (difference between the maximum and minimum observed values) or <code>"iq"</code>
(interquartile)</p></td>
    </tr>
    <tr>
      <th>transformation</th>
      <td><p>The type of transformation applied to the observations
prior to the analysis. Choose one of the following: <code>"none"</code> (default), <code>"sqrt"</code>,
<code>"4thrt"</code> (fourth root),
<code>"log"</code> (natural logarithm), <code>"log10"</code> (common, i.e. base 10, logarithm),
<code>"log2"</code> (binary logarithm), <code>"log1p"</code> (i.e. log(1+x)),
<code>"arcsine"</code> (if data is proportional, NOT percentage) or <code>"other"</code>.</p></td>
    </tr>
    <tr>
      <th>trans_function</th>
      <td><p>If <code>transformation</code> is set to "<code>"other"</code>, the function
for the back-transformation needs to be defined here as character string (simply the inverse of
the original transformation), e.g. "5^x" if observations log(x, base = 5) transformed or
"exp(x) - 0.001" if observations log(x + 0.001) transformed. Default is <code>"none"</code>.</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>The function returns a single NRMSE value (expressed as absolute value). In case the
number of positions with non-missing values in both pred and obs is less then 2, NA is returned
with a message.</p>
    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>The for most common normalization methods are implemented here:</p>
<p>- the **mean**:   NRMSE = RMSE / mean(obs)
- the **standard deviation**:  NRMSE = RMSE / sd(obs)
- the **difference between maximum and minimum**:  NRMSE = RMSE / (max(obs)-min(obs)
- the **interquartile range**; NRMSE = RMSE / (Q1-Q3), i.e. the
difference between the 25th and 75th percentile of observations</p>
<p>Missing values in obs and pred are removed before the computation proceeds, and
only those positions with non-missing values in both pred and obs are considered in the
computation.</p>
    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <div class='dont-index'><p><code><a href='calc_nrmse.html'>calc_nrmse</a></code></p></div>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='va'>obs</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>10</span>, <span class='fl'>14</span>, <span class='fl'>20</span><span class='op'>)</span>
<span class='va'>pred</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>9</span>, <span class='fl'>12</span>, <span class='fl'>13</span><span class='op'>)</span>
<span class='co'># Calculating the sd-based NRMSE for untransformed data</span>
<span class='fu'>nrmse</span><span class='op'>(</span><span class='va'>pred</span>, <span class='va'>obs</span><span class='op'>)</span>
</div><div class='output co'>#&gt; [1] 0.8429272</div><div class='input'><span class='co'># Calculating the iq-based NRMSE for log(x+0.001) transformed data</span>
<span class='fu'>nrmse</span><span class='op'>(</span><span class='va'>pred</span>, <span class='va'>obs</span>, method <span class='op'>=</span> <span class='st'>"iq"</span>, transformation <span class='op'>=</span> <span class='st'>"other"</span>, trans_function <span class='op'>=</span> <span class='st'>"exp(x)-0.001"</span><span class='op'>)</span>
</div><div class='output co'>#&gt; [1] 1.153703</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by <a href='https://saskiaotto.de'>Saskia A. Otto</a>, <a href='https://github.com/reneplonus'>Rene Plonus</a>, <a href='https://www.biologie.uni-hamburg.de/forschung/oekologie-biologische-ressourcen/maroeksysdyn/mitarbeiter/funk.html'>Steffen Funk</a>, Alexander Keth.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


