<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Calculates the Normalized Root Mean Square Error (NRMSE) for a list of models — calc_nrmse • INDperform</title>

<!-- favicons -->
<link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png" />
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png" />
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png" />
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png" />

<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->
<link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/cosmo/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous" />


<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>



  <link href="../extra.css" rel="stylesheet">
  

<meta property="og:title" content="Calculates the Normalized Root Mean Square Error (NRMSE) for a list of models — calc_nrmse" />
<meta property="og:description" content="calc_nrmse is a wrapper function that applies the nrmse function to a
list of models given the input indicator and pressure observations. The function calculates
first the predicted values for each model, which are then used for the NRMSE
computation. The normalization method and transformation types required for
nrmse can be set for all models the same or individually." />
<meta property="og:image" content="/logo.png" />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">INDperform</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.2.2.9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fa fa-home"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">
    <span class="fa fa-file-code-o"></span>
     
    Datasets &amp; Functions
  </a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    <span class="fas fa-book"></span>
     
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="https://doi.org/10.1016/j.ecolind.2017.05.045">Quantitative framework for selecting and validating food web indicators</a>
    </li>
    <li>
      <a href="https://raw.githubusercontent.com/saskiaotto/cheatsheets/476bad4a8876939a7b3e1784a5bf61567ed4a715/Cheatsheet_INDperform_v0.1.0.pdf">Indperform cheatsheet</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">
    <span class="fa fa-newspaper-o"></span>
     
    News
  </a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/saskiaotto/INDperform">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../mailto:saskia.otto@uni-hamburg.de">
    <span class="fa fa-send"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Calculates the Normalized Root Mean Square Error (NRMSE) for a list of models</h1>
    <small class="dont-index">Source: <a href='https://github.com/saskiaotto/INDperform/blob/master/R/calc_nrmse.R'><code>R/calc_nrmse.R</code></a></small>
    <div class="hidden name"><code>calc_nrmse.Rd</code></div>
    </div>

    <div class="ref-description">
    <p><code>calc_nrmse</code> is a wrapper function that applies the <code><a href='nrmse.html'>nrmse</a></code> function to a
list of models given the input indicator and pressure observations. The function calculates
first the predicted values for each model, which are then used for the NRMSE
computation. The normalization method and transformation types required for
<code><a href='nrmse.html'>nrmse</a></code> can be set for all models the same or individually.</p>
    </div>

    <pre class="usage"><span class='fu'>calc_nrmse</span><span class='op'>(</span>
  <span class='va'>press</span>,
  <span class='va'>ind</span>,
  <span class='va'>model</span>,
  method <span class='op'>=</span> <span class='st'>"sd"</span>,
  transformation <span class='op'>=</span> <span class='st'>"none"</span>,
  trans_function <span class='op'>=</span> <span class='st'>"none"</span>
<span class='op'>)</span></pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>press</th>
      <td><p>A list of vectors containing the pressure values.</p></td>
    </tr>
    <tr>
      <th>ind</th>
      <td><p>A list of vectors containing the indicator values.</p></td>
    </tr>
    <tr>
      <th>model</th>
      <td><p>A list containing the models.</p></td>
    </tr>
    <tr>
      <th>method</th>
      <td><p>A character string or vector of the same length as the model list
indicating the value(s) to be used for the normalization of the RMSE. The default is
the standard deviation, alternative methods are the <code>"mean"</code>,
<code>"maxmin"</code> (difference between the maximum and minimum observed values) or <code>"iq"</code>
(interquartile) (see also <code><a href='nrmse.html'>nrmse</a></code>).</p></td>
    </tr>
    <tr>
      <th>transformation</th>
      <td><p>A character string or vector of the same length as the model list
indicating the type of transformation applied to the observations
prior to the analysis. Choose one of the following: <code>"none"</code> (default), <code>"sqrt"</code>,
<code>"4thrt"</code> (fourth root), <code>"log"</code> (natural logarithm),
<code>"log10"</code> (common, i.e. base 10, logarithm),
<code>"log2"</code> (binary logarithm), <code>"log1p"</code> (i.e. log(1+x)),
<code>"arcsine"</code> (if data is proportional, NOT percentage) or <code>"other"</code>.</p></td>
    </tr>
    <tr>
      <th>trans_function</th>
      <td><p>If <code>transformation</code> is set to "<code>"other"</code> for some or all models,
the function for the back-transformation needs to be defined here as single character string
(applied to all models ) or as character vector (with one string per model).
If no special transformation was applied use default setting <code>"none"</code>.</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>The function returns a numerical vector of the same length then the
input lists, with one NRMSE value for each model.</p>
<p>NOTE: If NA is returned for some models it means that either no model is available or that
not enough observations with both indicator and pressure values are available
(minimum of 2 required).</p>
    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>This wrapper function is used within the <code><a href='model_gam.html'>model_gam</a></code> and
<code><a href='model_gamm.html'>model_gamm</a></code> functions with the default <code>"sd"</code> method and no transformation.
If another normalization is required or indicators where standardized prior to the analysis,
this wrapper function should be applied to the final model output tibble to compute
NRMSE that are based on the original indicator scale (advised for cross-indicator
comparisons).</p>
<p>The more common transformation types applied to the indicator can be simply specified in the
<code>transformation</code> argument, which will invoke the respective back-transformation of the
observed and predicted indicator values before the NRMSE calculation. Any other transformation
applied should be indicated with  <code>transformation = "other"</code> and the respective
back-transformation (simply the inverse of the original transformation)
specified under <code>trans_function</code>, e.g. e.g. "5^x" if observations log(x, base = 5)
transformed or "exp(x) - 0.001" if observations log(x + 0.001) transformed.</p>
<p>Missing values in obs and pred are removed before the computation proceeds, and
only those positions with non-missing values in both pred and obs are considered in the
computation.</p>
    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <div class='dont-index'><p><code><a href='nrmse.html'>nrmse</a></code>, <code><a href='model_gam.html'>model_gam</a></code> and <code><a href='model_gamm.html'>model_gamm</a></code></p></div>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='co'># Calculate NRMSE for the indicators TZA (~Fcod), which was let's say</span>
<span class='co'># log(x+ 0.001)-transformed, and MS (~TSum), which was not transformed:</span>
<span class='fu'>calc_nrmse</span><span class='op'>(</span>press <span class='op'>=</span> <span class='va'>ind_init_ex</span><span class='op'>$</span><span class='va'>press_test</span><span class='op'>[</span><span class='fl'>7</span><span class='op'>:</span><span class='fl'>8</span><span class='op'>]</span>, ind <span class='op'>=</span> <span class='va'>ind_init_ex</span><span class='op'>$</span><span class='va'>ind_test</span><span class='op'>[</span><span class='fl'>7</span><span class='op'>:</span><span class='fl'>8</span><span class='op'>]</span>,
model <span class='op'>=</span> <span class='va'>model_gam_ex</span><span class='op'>$</span><span class='va'>model</span><span class='op'>[</span><span class='fl'>7</span><span class='op'>:</span><span class='fl'>8</span><span class='op'>]</span>, method <span class='op'>=</span> <span class='st'>"sd"</span>, transformation <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"other"</span>, <span class='st'>"none"</span><span class='op'>)</span>,
trans_function <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"exp(x) - 0.001"</span>, <span class='st'>"none"</span><span class='op'>)</span> <span class='op'>)</span>
</div><div class='output co'>#&gt; [1] 1.315925 1.300468</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by <a href='https://saskiaotto.de'>Saskia A. Otto</a>, <a href='https://github.com/reneplonus'>Rene Plonus</a>, <a href='https://www.biologie.uni-hamburg.de/forschung/oekologie-biologische-ressourcen/maroeksysdyn/mitarbeiter/funk.html'>Steffen Funk</a>, Alexander Keth.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


